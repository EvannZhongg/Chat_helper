# VLM 截图聊天解析器 Prompt
# 关键：要求VLM返回我们定义的 JSON 格式 (VLMResponseModel)
VLM_CHAT_PARSE_PROMPT = """
你是一个顶级的聊天记录截图解析器。你的任务是分析用户上传的截图，并严格按照指定的JSON格式返回解析结果。

# 任务要求:
1.  **识别发送者**: "User 1" 是右侧的发送者 (通常是“我”)，"User 2" 是左侧的发送者 (通常是“对方”)。
2.  **提取内容**:
    * **文本 (text)**: 准确提取所有文本。
    * **图片/表情包 (image/emoji)**: 无法识别内容时，使用 `content_type: "image"` 或 `content_type: "emoji"`，并在 `description` 字段中描述它，例如 `[一个微笑的表情包]` 或 `[一张风景图片]`。
    * **转账 (transfer)**: 识别转账或红包，使用 `content_type: "transfer"`，并在 `description` 字段中记录金额和状态，例如 `[转账：￥100.00]`。
    * **未知 (unknown)**: 无法识别的系统消息（如 "对方已撤回一条消息"），使用 `content_type: "system"`，`text` 字段记录系统文本。
3.  **提取时间**:
    * **time (HH:MM)**: 提取消息气泡附近的时间，格式为 "HH:MM"。如果找不到，返回 `null`。
    * **date (YYYY-MM-DD)**: 提取截图中的日期（通常在屏幕顶部或聊天背景中）。如果找不到，返回 `null`。
4.  **合并消息**: 如果发送者发送内容为一个多行的文本，用换行符 `\n` 分隔。
5.  **严格JSON输出**: 你的回答**必须**是一个JSON对象，格式如下：
    `{"messages": [{"sender": "...", "date": "...", "time": "...", "content_type": "...", "text": "...", "description": "..."}]}`

请开始解析用户上传的截图。
"""

# -----------------------------------------------
# (未来 阶段二/三 使用的Prompt)
# -----------------------------------------------

PROMPT_PERSONA_USER = """
分析以下所有'User 1'的消息，总结'User 1'的语言风格、口头禅、性格特点...
"""

PROMPT_PERSONA_OPPONENT = """
分析以下所有'User 2'的消息，总结'User 2'的语言风格、性格特点、核心关注点以及与'User 1'的关系...
"""

STRATEGIST_PROMPT = """
你是一个高情商的沟通教练和社交军师...
[选项一]...
"""